<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="container"></div>
<script src="react.js"></script>
<script src="react-dom.js"></script>
<script src="browser.js"></script>
<script type="text/babel">
    var Component = React.createClass({

        getInitialState: function () {
            console.log("getInitialState");
          return{
              count:0
          };
        },
        componentWillMount : function () {
            this.timer = setInterval(function () {
                this.setState({
                    count : this.state.count + 1
                });
            }.bind(this),1000);
            console.log("componentWillMount");
        },

        getDefaultProps : function () {
            console.log("getDefaultProps");
            return{};
        },

        componentDidMount : function () {
            console.log("componentDidMount");
        },
        handleClick : function () {
            this.setState({
                count : this.state.count + 1
            })
        },
        componentWillReceiveProps : function () {
            console.log("componentWillReceiveProps");
        },
        shouldComponentUpdate : function () {
            console.log("shouldComponentUpdate");
//            if(this.state.count>5){
//                return false;
//            }
            return true;
        },
        componentDidUpdate : function () {
            console.log("componentDidUpdate");
        },
        componentWillUpdate : function () {
            console.log("componentWillUpdate");
        },
        handleDestory : function () {
            ReactDOM.unmountComponentAtNode(document.getElementById("container"));
        },
        componentWillUnmount : function () {
            console.log("componentWillMount");
            clearInterval(this.timer);
        },
        render: function () {
            console.log("render");
            return(
                  <div>
                      <button onClick={this.handleClick}>click</button>
                      <button onClick={this.handleDestory}>销毁组件</button>
                      <h1>{this.state.count}</h1>
                  </div>
            );
        }
    });
    ReactDOM.render(
            <Component/>,
            document.getElementById('container')
    )
</script>
</body>
</html>